<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Studier</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="dashboard.html"><img src="logo.svg" alt="Studier" class="logo"></a>
            </div>
            <div class="nav-links">
                <a href="dashboard.html">Dashboard</a>
                <a href="settings.html" class="active">Settings</a>
                <a href="index.html">Log Out</a>
            </div>
        </div>
    </nav>

    <!-- Settings Page -->
    <section class="page-header">
        <div class="container">
            <h1 class="page-title">Settings</h1>
            <p class="page-subtitle">Manage your account and preferences</p>
        </div>
    </section>

    <section class="settings-content">
        <div class="container">
            <div class="settings-section">
                <h2>Account</h2>
                <div class="settings-group">
                    <div class="setting-item">
                        <label>Name</label>
                        <input type="text" value="John Doe" class="setting-input">
                    </div>
                    <div class="setting-item">
                        <label>Email</label>
                        <input type="email" value="john@example.com" class="setting-input">
                    </div>
                    <button class="btn btn-primary">Save Changes</button>
                </div>
            </div>

            <div class="settings-section">
                <h2>Preferences</h2>
                <div class="settings-group">
                    <div class="setting-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="themeToggle" checked>
                            <span>Dark Mode</span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="notifications" checked>
                            <span>Email Notifications</span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="dailyReminders">
                            <span>Daily Reminders</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="settings-section">
                <h2>Subscription</h2>
                <div class="settings-group">
                    <div class="subscription-info">
                        <p><strong>Current Plan:</strong> <span id="currentPlan">Free</span></p>
                        <p><strong>Billing:</strong> <span id="billingAmount">$0/month</span></p>
                        <p><strong>Next Billing Date:</strong> <span id="nextBillingDate">N/A</span></p>
                    </div>
                    <div class="settings-actions">
                        <button class="btn btn-secondary">Change Plan</button>
                        <button class="btn btn-secondary">Cancel Subscription</button>
                    </div>
                </div>
            </div>

            <div class="settings-section">
                <h2>Data</h2>
                <div class="settings-group">
                    <p>Export or delete your data</p>
                    <div class="settings-actions">
                        <button class="btn btn-secondary">Export Data</button>
                        <button class="btn btn-danger">Delete Account</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <img src="logo.svg" alt="Studier" class="footer-logo">
                    <p>Level up your study game</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Product</h4>
                        <a href="features.html">Features</a>
                        <a href="pricing.html">Pricing</a>
                        <a href="about.html">About</a>
                    </div>
                    <div class="footer-column">
                        <h4>Legal</h4>
                        <a href="terms.html">Terms</a>
                        <a href="privacy.html">Privacy</a>
                    </div>
                    <div class="footer-column">
                        <h4>Support</h4>
                        <a href="mailto:hello@studier.me">hello@studier.me</a>
                        <a href="login.html">Log In</a>
                        <a href="signup.html">Sign Up</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Studier. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="database.js"></script>
    <script src="navigation.js"></script>
    <script>
        // Load user data
        document.addEventListener('DOMContentLoaded', function() {
            const user = getCurrentUser();
            if (user) {
                // Update account info
                document.querySelector('.setting-input[type="text"]').value = user.name || '';
                document.querySelector('.setting-input[type="email"]').value = user.email || '';
                
                // Update subscription info
                const plan = user.plan || 'free';
                const planName = plan === 'premium' ? 'Premium' : 'Free';
                const billingAmount = plan === 'premium' ? '$4.50/month' : '$0/month';
                
                document.getElementById('currentPlan').textContent = planName;
                document.getElementById('billingAmount').textContent = billingAmount;
                
                if (user.trialEndDate && plan === 'premium') {
                    const nextBilling = new Date(user.trialEndDate);
                    document.getElementById('nextBillingDate').textContent = nextBilling.toLocaleDateString('en-US', { 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    });
                } else {
                    document.getElementById('nextBillingDate').textContent = 'N/A';
                }
            }
            
            // Theme toggle
            const themeToggle = document.getElementById('themeToggle');
            const savedTheme = localStorage.getItem('studier_theme') || 'light';
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                themeToggle.checked = true;
            }
            
            themeToggle.addEventListener('change', function() {
                const newTheme = this.checked ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('studier_theme', newTheme);
            });
        });
    </script>
</body>
</html>

